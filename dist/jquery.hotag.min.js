/*! hotag - v0.0.7 - 2015-05-07
* https://github.com/Mystist/hotag
* Copyright (c) 2015 Mystist; Licensed MIT */
+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("mystist.hotag"),f="object"==typeof b&&b;e&&"string"!=typeof b&&(e=null||e.destroy()),e||d.data("mystist.hotag",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.initialize()};c.VERSION="0.0.7",c.DEFAULTS={tags:[],keyOfName:"tag",keyOfCounts:"counts",keyOfHref:"href",containerClass:"hotag-container",minFontByPercent:100,maxFontByPercent:230},c.prototype.initialize=function(){this.initContainer().render()},c.prototype.initContainer=function(){a("<div />").addClass(this.options.containerClass).appendTo(this.$element);return this},c.prototype.render=function(){for(var b=this.options.tags,c=this.$element.find("."+this.options.containerClass),f=e.m(d.getArr.call(this)),g=0,h=b.length;h>g;g++){var i=b[g],j=a("<a />").text(i[this.options.keyOfName]).attr({href:i[this.options.keyOfHref]||"#",title:this.options.keyOfCounts+": "+i[this.options.keyOfCounts]}).css("font-size",d.calPoints.call(this,i[this.options.keyOfCounts],f)+"%");c.append(" ").append(j)}return this},c.prototype.destroy=function(){this.$element.empty().removeData("mystist.hotag")};var d={getArr:function(){for(var a=[],b=this.options.tags,c=0,d=b.length;d>c;c++)a.push(b[c][this.options.keyOfCounts]);return a},calPoints:function(a,b){var c=this.options.minFontByPercent,d=this.options.maxFontByPercent,f=e.log(a/b.min,b.max/b.min);return c+parseFloat(f.toFixed(2),10)*(d-c)}},e={m:function(a){var b={max:Math.max.apply(null,a),min:Math.min.apply(null,a)};return b},log:function(a,b){return b=b||10,Math.log(a)/Math.log(b)}};c._private={utils:d,helper:e};var f=a.fn.hotag;a.fn.hotag=b,a.fn.hotag.Constructor=c,a.fn.hotag.noConflict=function(){return a.fn.hotag=f,this}}(jQuery);